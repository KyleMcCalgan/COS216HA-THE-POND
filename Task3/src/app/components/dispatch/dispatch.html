<div class="dispatch-container">
      <h2>Dispatch Order {{ orderId }}</h2>
      
      <div *ngIf="orderDetails; else noOrder">
        <p><strong>Order ID:</strong> {{ orderDetails.orderId }}</p>
        <p><strong>Products:</strong> {{ orderDetails.products.join(', ') }}</p>
        <p><strong>Status:</strong> {{ orderDetails.status }}</p>

        <div class="drone-selection">
          <h3>Select a Drone</h3>
          <select [(ngModel)]="selectedDroneId">
            <option [value]="null" disabled>Select a drone</option>
            <option *ngFor="let drone of availableDrones" [value]="drone.id" [disabled]="!drone.isAvailable">
              Drone {{ drone.id }} (Battery: {{ drone.batteryLevel }}%, Operator: {{ drone.operator }}) {{ drone.isAvailable ? '' : ' - Unavailable' }}
            </option>
          </select>
        </div>

        <div class="button-group">
          <button (click)="dispatchOrder()" [disabled]="!selectedDroneId">Dispatch</button>
          <button (click)="cancel()">Cancel</button>
        </div>
      </div>

      <ng-template #noOrder>
        <p>Order not found.</p>
      </ng-template>
    </div>